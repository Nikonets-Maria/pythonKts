# Задание 11: Сортировка вагонов К тупику со стороны Пути 1 
# подъехал поезд. Необходимо сделать так, чтобы вагоны поезда 
# попали на Путь 2 по порядку (сначала первый, потом второй и 
# т.д., считая от головы поезда, едущего по пути 2 в сторону от 
# тупика). При этом известно, в каком порядке изначально идут 
# вагоны поезда. Условия   - с Пути 1 попасть на Путь 2, не 
# заезжая в тупик, нельзя. - разрешается отцепить от поезда один 
# или сразу несколько первых вагонов и завезти их в тупик 
# часть вагонов из тупика можно вывезти на Путь 2 - первые две 
# операции можно повторять. При этом: каждый вагон может лишь 
# один раз заехать с Пути 1 в тупик, а затем один раз выехать 
# из тупика на Путь 2 заезжать в тупик с Пути 2 или выезжать из 
# тупика на Путь 1 запрещается   Формат входных данных   
# - вводятся числа через пробел – номера вагонов в порядке от 
# головы поезда, едущего по пути 1 в сторону тупика. - вагоны 
# пронумерованы натуральными числами от 1, каждое из которых 
# встречается ровно один раз без. "Дырок" в нумерации нет 
# (то есть, не может быть четыре вагона с номерами 1245).   
# Формат выходных данных (на оценку "хорошо")   - напечатать 
# строку Вывели, если все вагоны удалось перегнать с Пути 1 на 
# Путь 2 - напечатать строку Не получилось, если перегон вагонов 
# невозможен   Как это должно работать   При вводе 3 2 1 
# или 4 1 3 2 вы должны получить "Вывели" При вводе 2 3 1 вы 
# должны получить "Не получилось"   Формат выходных данных 
# (на оценку "отлично")   - в случае удачного исхода, на выход 
# выводились действия, которые были проделаны с поездом. Каждое 
# действие описывается двумя параметрами: самим действием и 
# количеством вагонов. - напечатать строку Не получилось, если 
# перегон вагонов невозможен   Как это должно работать   
# При вводе 4 1 3 2 необходимо произвести следующие действия: 
# ввести 4, ввести 1 (ввели два вагона), вывести 1 (вывели
# один вагон), ввести 3, ввести 2 (ввели два вагона), 
# вывести 2, вывести 3, вывести 4 (вывели три вагона). 
# Значит на выходе мы должны получить: Ввели: 2 Вывели: 1 
# Ввели: 2 Вывели: 3   При вводе 2 3 1 вы должны получить 
# "Не получилось" 
# Задание Отсортировать вагоны
def sort_train(wagons):
    stack = []  
    output = []  
    next_wagon = 1 
    actions = []  

    while wagons or stack:
       
        if wagons:
            1
            if wagons[0] == next_wagon:
                actions.append(f"Ввели: 1") 
                output.append(wagons.pop(0)) 
                actions.append(f"Вывели: 1")  
                next_wagon += 1 
            else:
               
                stack.append(wagons.pop(0))  
                actions.append(f"Ввели: 1")  
        else:
            
            if stack and stack[-1] == next_wagon:
                output.append(stack.pop()) 
                actions.append(f"Вывели: 1")  
                next_wagon += 1 
            else:
            
                break

    if output == list(range(1, len(output) + 1)):
        print("Вывели")
        for action in actions:
            print(action)
    else:
        print("Не получилось")


input_wagons = list(map(int, input("Введите номера вагонов через пробел: ").split()))
sort_train(input_wagons)
